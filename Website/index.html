<!doctype html>
<html>

<head>
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title> KAIST Analytica</title>
</head>

<body>

	<div id="AUNT" hidden="true">

		<h1>Northern Territory</h1>

	</div>

	<div id="menu">

		<div id="states"></div>

		<select id="selection" onchange="selectState(this.value)">
			<option value="AUNT">Northern Territory</option>
			<option value="AUWA">Western Australia</option>
			<option value="AUACT">Australian Capital Territory</option>
			<option value="AUNSW">New South Wales</option>
			<option value="AUSA">South Australia</option>
			<option value="AUVIC">Victoria</option>
			<option value="AUQLD">Queensland</option>
			<option value="AUTAS">Tasmania</option>
		</select>

	</div>


	<script src="raphael-min.js"></script>
    <script src="map.js"></script>
	<script type="text/javascript">

		var behaviour = 0	// 0 country
							// 1 state
		var stateIds = ["AUNT" , "AUWA" , "AUACT" , "AUNSW" , "AUSA" , "AUVIC" , "AUQLD" , "AUTAS" ]

		for (var i = 0; i < states.length; i++) {
			states[i].node.id_ = states[i].data().id
        	states[i].node.onmouseenter = (e) => {if(behaviour == 0){e.target.setAttribute('fill', 'grey')}}
        	states[i].node.onmouseleave = (e) => {if(behaviour == 0){e.target.setAttribute('fill', 'black')}}
        	states[i].node.onclick = (e) => {if(behaviour == 0){selectState(e.target.id_)}}
		}

		function selectState(id){
			document.getElementById(id).hidden = false

			x = stateIds.indexOf(id)
			behaviour = 1
			for(var i = 0; i < states.length; i++){
				if(i != x){
					states[i].node.setAttribute('fill', 'lightgrey')
				} else{
					states[i].node.setAttribute('fill', 'red')
				}
			}
		}

		/**
		 * Sources:
		 *
		 * https://www.amcharts.com/svg-maps/?map=australia
		 */

	</script>

</body>

</html>